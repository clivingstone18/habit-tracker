{"ast":null,"code":"var _jsxFileName = \"/Users/claire/Desktop/Projects/habittracker/habit-tracker/src/components/home.component.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Route, Redirect } from \"react-router\";\nimport axios from \"axios\";\nimport UserForm from \"./user-form.component\";\nexport default function Home(props) {\n  const [isLoading, setIsLoading] = useState(true);\n  const [loginUsername, setLoginUsername] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [registerUsername, setRegisterUsername] = useState(\"\");\n  const [registerPassword, setRegisterPassword] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const handleSuccessfulAuth = data => {\n    props.handleLogin(data);\n    props.history.push(\"/dashboard\");\n  };\n\n  const login = () => {\n    axios({\n      method: \"post\",\n      data: {\n        username: loginUsername,\n        password: loginPassword\n      },\n      withCredentials: true,\n      url: \"http://localhost:5000/login\"\n    }).then(res => {\n      console.log(res);\n\n      if (res.data.status === \"Successfully Authenticated\") {\n        handleSuccessfulAuth(res.data);\n      }\n\n      if (res.data === \"No User Exists\") {\n        setErrors({\n          username: \"A user with username \" + loginUsername + \" doesn't exist!\"\n        });\n      }\n\n      setLoginPassword(\"\");\n    }).catch(err => console.log(\"Failed\"));\n  };\n\n  const register = () => {\n    axios({\n      method: \"post\",\n      data: {\n        username: registerUsername,\n        password: registerPassword\n      },\n      withCredentials: true,\n      url: \"http://localhost:5000/register\"\n    }).then(res => {\n      if (res.data.status === \"Successful Registration\") {\n        axios({\n          method: \"post\",\n          data: {\n            username: registerUsername,\n            password: registerPassword\n          },\n          withCredentials: true,\n          url: \"http://localhost:5000/login\"\n        }).then(res => {\n          if (res.data.status === \"Successfully Authenticated\") {\n            handleSuccessfulAuth(res.data);\n          } else {\n            setErrors({\n              register: \"The username \" + registerUsername + \"has already been taken\"\n            });\n          }\n        }).catch(err => console.log(\"Failed\"));\n      }\n    });\n  };\n\n  useEffect(() => {\n    props.checkLoginStatus();\n\n    if (props.isLoggedIn === \"LOGGED_IN\") {\n      console.log(\"You are already logged in \");\n      props.history.push(\"/dashboard\");\n    }\n\n    setIsLoading(false);\n  }, []);\n  const styles = {\n    header: {\n      backgroundColor: \"#b19cd9\",\n      alignItems: \"center\"\n    }\n  };\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 12\n      }\n    }, \"Loading\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.header,\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, \"Welcome\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, \"Begin habit tracking\")), /*#__PURE__*/React.createElement(UserForm, {\n      type: \"Login\",\n      username: loginUsername,\n      password: loginPassword,\n      setUsername: setLoginUsername,\n      setPassword: setLoginPassword,\n      handleClick: login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, \" OR \"), /*#__PURE__*/React.createElement(UserForm, {\n      type: \"Register\",\n      username: registerUsername,\n      password: registerPassword,\n      setUsername: setRegisterUsername,\n      setPassword: setRegisterPassword,\n      handleClick: register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }), errors ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, errors.username) : null, errors ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }, errors.register) : null);\n  }\n}","map":{"version":3,"sources":["/Users/claire/Desktop/Projects/habittracker/habit-tracker/src/components/home.component.js"],"names":["React","useState","useEffect","Route","Redirect","axios","UserForm","Home","props","isLoading","setIsLoading","loginUsername","setLoginUsername","loginPassword","setLoginPassword","registerUsername","setRegisterUsername","registerPassword","setRegisterPassword","errors","setErrors","handleSuccessfulAuth","data","handleLogin","history","push","login","method","username","password","withCredentials","url","then","res","console","log","status","catch","err","register","checkLoginStatus","isLoggedIn","styles","header","backgroundColor","alignItems"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Route, Redirect } from \"react-router\";\nimport axios from \"axios\";\nimport UserForm from \"./user-form.component\";\n\nexport default function Home(props) {\n  const [isLoading, setIsLoading] = useState(true);\n  const [loginUsername, setLoginUsername] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [registerUsername, setRegisterUsername] = useState(\"\");\n  const [registerPassword, setRegisterPassword] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const handleSuccessfulAuth = (data) => {\n    props.handleLogin(data);\n    props.history.push(\"/dashboard\");\n  };\n\n  const login = () => {\n    axios({\n      method: \"post\",\n      data: {\n        username: loginUsername,\n        password: loginPassword,\n      },\n      withCredentials: true,\n      url: \"http://localhost:5000/login\",\n    })\n      .then((res) => {\n        console.log(res);\n        if (res.data.status === \"Successfully Authenticated\") {\n          handleSuccessfulAuth(res.data);\n        }\n        if (res.data === \"No User Exists\") {\n          setErrors({\n            username:\n              \"A user with username \" + loginUsername + \" doesn't exist!\",\n          });\n        }\n        setLoginPassword(\"\");\n      })\n      .catch((err) => console.log(\"Failed\"));\n  };\n\n  const register = () => {\n    axios({\n      method: \"post\",\n      data: {\n        username: registerUsername,\n        password: registerPassword,\n      },\n      withCredentials: true,\n      url: \"http://localhost:5000/register\",\n    }).then((res) => {\n      if (res.data.status === \"Successful Registration\") {\n        axios({\n          method: \"post\",\n          data: {\n            username: registerUsername,\n            password: registerPassword,\n          },\n          withCredentials: true,\n          url: \"http://localhost:5000/login\",\n        })\n          .then((res) => {\n            if (res.data.status === \"Successfully Authenticated\") {\n              handleSuccessfulAuth(res.data);\n            } else {\n              setErrors({\n                register:\n                  \"The username \" + registerUsername + \"has already been taken\",\n              });\n            }\n          })\n          .catch((err) => console.log(\"Failed\"));\n      }\n    });\n  };\n\n  useEffect(() => {\n    props.checkLoginStatus();\n    if (props.isLoggedIn === \"LOGGED_IN\") {\n      console.log(\"You are already logged in \");\n      props.history.push(\"/dashboard\");\n    }\n    setIsLoading(false);\n  }, []);\n\n  const styles = {\n    header: {\n      backgroundColor: \"#b19cd9\",\n      alignItems: \"center\",\n    },\n  };\n\n  if (isLoading) {\n    return <p>Loading</p>;\n  } else {\n    return (\n      <div>\n        <div style={styles.header} className=\"header\">\n          <h1>Welcome</h1>\n          <h2>Begin habit tracking</h2>\n        </div>\n\n        <UserForm\n          type=\"Login\"\n          username={loginUsername}\n          password={loginPassword}\n          setUsername={setLoginUsername}\n          setPassword={setLoginPassword}\n          handleClick={login}\n        />\n\n        <p> OR </p>\n\n        <UserForm\n          type=\"Register\"\n          username={registerUsername}\n          password={registerPassword}\n          setUsername={setRegisterUsername}\n          setPassword={setRegisterPassword}\n          handleClick={register}\n        />\n        {errors ? <p>{errors.username}</p> : null}\n        {errors ? <p>{errors.register}</p> : null}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}